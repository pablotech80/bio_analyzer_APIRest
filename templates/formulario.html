{% extends 'base.html' %}
{% block title %}BioAnalyze | Formulario{% endblock %}

{% block content %}
<div class="text-center mb-4">
    {% if error %}
    <div class="alert alert-danger text-center">{{ error }}</div>
    {% endif %}

    <img src="{{ url_for('static', filename='img/bio_analyze.jpg') }}" alt="BioAnalyze Logo" width="160" class="rounded-circle mb-3">
    <h1 class="mt-2">Bienvenido a <span class="text-info">Bio‚Ä¢Analyze</span></h1>
    <p class="lead">Ingresa tus datos f√≠sicos y biom√©tricos para obtener un informe detallado de tu composici√≥n corporal.<br> Utilizamos f√≥rmulas cient√≠ficas validadas con interpretaciones personalizadas.</p>
</div>

<form method="POST" action="/informe_web" class="row g-4">

    <!-- Datos Personales -->
    <div class="col-12">
        <h6 class="form-section-title border-bottom pb-1">üìã Datos Personales</h6>
    </div>

    <div class="col-12 col-md-3">
        <label for="edad" class="form-label">Edad</label>
        <input type="number" class="form-control" id="edad" name="edad" value="{{ form_data.get('edad', '') }}">
    </div>

    <div class="col-12 col-md-3">
        <label for="genero" class="form-label">G√©nero</label>
        <select class="form-select" id="genero" name="genero">
            <option value="">Seleccionar</option>
            <option value="h" {% if form_data.get('genero') == 'h' %}selected{% endif %}>Masculino</option>
            <option value="m" {% if form_data.get('genero') == 'm' %}selected{% endif %}>Femenino</option>
        </select>
    </div>

    <!-- Medidas Corporales -->
    <div class="col-12">
        <h6 class="form-section-title border-bottom pb-1">üìè Medidas Corporales</h6>
    </div>

    <div class="col-12 col-md-3">
        <label for="peso" class="form-label">Peso (kg)</label>
        <input type="number" step="0.1" class="form-control" id="peso" name="peso" value="{{ form_data.get('peso', '') }}">
    </div>

    <div class="col-12 col-md-3">
        <label for="altura" class="form-label">Altura (cm)</label>
        <input type="number" class="form-control" id="altura" name="altura" value="{{ form_data.get('altura', '') }}">
    </div>

    <div class="col-12 col-md-3">
        <label for="cuello" class="form-label">Cuello (cm)</label>
        <input type="number" class="form-control" id="cuello" name="cuello" value="{{ form_data.get('cuello', '') }}">
    </div>

    <div class="col-12 col-md-3">
        <label for="cintura" class="form-label">Cintura (cm)</label>
        <input type="number" class="form-control" id="cintura" name="cintura" value="{{ form_data.get('cintura', '') }}">
    </div>

    <div class="col-12 col-md-3" id="grupo-cadera">
        <label for="cadera" class="form-label">Cadera (cm) <span class="text-muted">(solo mujeres)</span></label>
        <input type="number" class="form-control" id="cadera" name="cadera" value="{{ form_data.get('cadera', '') }}">
    </div>

    <!-- Objetivo -->
    <div class="col-12">
        <h6 class="form-section-title border-bottom pb-1">üéØ Objetivo</h6>
    </div>

    <div class="col-12 col-md-4">
        <label for="objetivo" class="form-label">Objetivo</label>
        <select class="form-select" id="objetivo" name="objetivo">
            <option value="">Seleccionar</option>
            <option value="mantener peso" {% if form_data.get('objetivo') == 'mantener peso' %}selected{% endif %}>Mantener peso</option>
            <option value="perder grasa" {% if form_data.get('objetivo') == 'perder grasa' %}selected{% endif %}>Perder grasa</option>
            <option value="ganar masa muscular" {% if form_data.get('objetivo') == 'ganar masa muscular' %}selected{% endif %}>Ganar masa muscular</option>
        </select>
    </div>

    <!-- Botones -->
    <div class="col-12 text-center mt-3">
        <button type="submit" class="btn btn-info px-4">Analizar</button>
        <a href="/informe_web" class="btn btn-outline-light ms-2">Limpiar</a>
    </div>
</form>
{% endblock %}